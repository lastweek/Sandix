#	ChangeLog of Sandix
#
#	Copyright (C) 2015-2016 Yizhou Shan <shanyizhou@ict.ac.cn>
#
#	[-] = Remove
#	[+] = New
#	[M] = Modify		(Only Significant Modification)
#	[D] = Description	(Nothing but some memos)
#	 >  = More to say
#
#	All files created before Sep 7 2015 are *NOT* recorded here.
#	They born too early, pray for them.


Mon Sep  7 CST 2015
- [+] Changelog
- [+] Diary/09-07-2015
- [+] lib/ctype.c
- [+] include/sandix/ctype.h			[D] Character Type API.
- [M] lib/vsprintf.c				[D] Various modifications.


Tue Sep  8 CST 2015
- [+] Diary/09-08-2015
- [+] lib/hexdump.c				[D] Add hexdump API.
- [+] include/asm/swab.h			[D] Add byte swap API.
- [+] include/sandix/swab.h
- [+] include/asm/byteorder.h
- [+] include/sandix/byteorder/generic.h	[D] Add byteorder API.
- [+] include/sandix/byteorder/big_endian.h
- [+] include/sandix/byteorder/little_endian.h
- [M] include/sandix/kernel.h			[D] Add declares of lib/hexdump.c
- [M] lib/vsprintf.c				[D] Add number, put_dec


Wed Sep  9 CST 2015
- [+] Diary/09-09-2015
- [+] script/c.vim				[D] VIM Syntax! Make life easier!
- [+] script/asm.vim
- [+] Kbuild
- [+] crypto/					[D] Just new file. No Code!
- [+] crypto/Kbuild
- [+] crypto/Makefile
- [+] crypto/md5.c
- [+] include/asm/posix_types.h			[D] Big changes about Kernel Types API. 
- [+] include/asm/types.h			 >  Add Posix Types. Separate into architecture
- [+] include/sandix/posix_types.h		 >  dependent and independent parts. Another big
- [+] include/sandix/stddef.h			 >  change is separating types into two parts, too.
- [M] include/sandix/types.h			 >  Why? Because "long" stands for 32 or 64 bits
-						 >  on different architectures. 32 bit on x86.
- [M] include/sandix/compiler.h			[D] GCC_VERSION. READ/WRITE/ACCESS ONCE


Thu Sep 10 CST 2015
- [+] include/asm/string.h			[D] Separate arch-specific string functions.
- [M] include/sandix/string.h


Fri Sep 11 CST 2015
- [+] Diary/09-11-2015
- [+] Documentation/Kbuild/*
- [+] scripts/mkmakefile.sh			[D] Generating new makefile
- [+] scripts/link-vmSandix.sh			[D] Link final vmSandix image.
- [+] scripts/basic/*				[D] Add Kbuild System and fixdep.c
- [+] scripts/kconfig/*
- [+] scripts/Makefile.host			[D] Add new features to Makefile.
- [M] scripts/Makefile.build			 >  Basiclly, it is a TOTAL REWRITE.
- [M] scripts/Makefile.lib			 >  It is *not* easy.
- [M] scripts/Kbuild.include
- [M] Makefile					[D] Rewrite. Based on linux-4.1


Sun Sep 13 CST 2015
- [+] Diary/09-13-2015
- [+] arch/x86/Makefile
- [+] arch/x86/boot/*				[D] Renamed from boo/
- [+] arch/x86/configs/i386_defconfig		[D] Empty
- [+] arch/x86/kernel/Makefile			[D] Empty
- [+] arch/x86/lib/Makefile			[D] Empty
- [+] arch/x86/mm/Makefile			[D] Empty
- [+] arch/x86/pci/Makefile			[D] Empty. To show $(drivers-y)
- [+] scripts/Makefile.flags			[D] Compiler and Linker flags
- [M] scripts/Makefile.clean			[D] Clean hostprogs


Mon Sep 14 CST 2015
- [+] arch/x86/configs/i386_defconfig		[D] To be added
- [M] arch/x86/Makefile				[D] Add flags
- [M] arch/x86/boot/Makefile			[D] build bzImage


Tue Sep 15 CST 2015
- [+] Diary/09-15-2015
- [M] arch/x86/Makefile				[D] Remove -mregparm=3 from REALMODEFLAGS
- [M] arch/x86/boot/header.S			[D] Add more header datas, for future
-						 >  boot loader support.
- [M] arch/x86/include/asm/*			[D] Move from include/asm/*


Wed Sep 16 CST 2015
- [M] Makefile					[D] --silentoldconfig
-						 >  let Kconfig create include/config/*
-						 >  and include/generated/*
-						 >  Also, we add version.h and utsrelease.h
- [M] scripts/Makefile.build			[D] OK, using .cmd file only!
-						 >  Since fixdep works so well, .d file can NOT
-						 >  be included any more! We want the fixed
-						 >  dependency list to work.
- [M] scripts/basic/fixdep.c			[D] Change linux to sandix


Thu Sep 17 CST 2015
- [+] Diary/09-17-2015				[D] Some words about Makefile
- [+] include/sandix/kconfig.h			[D] IMPORTANT
- [+] Makefile					[D] -include include/sandix/kconfig.h
- [+] scripts/mkcompile_h.sh			[D] Generate: include/generate/compile.h
- [+] arch/x86/boot/version.c			[D] kernel_version string
- [M] arch/x86/boot/header.S			[D] kernel_version support
-						 >  start_of_setup fix: error if setup is
-						 >  not loaded at 0x9000:0000


Fri Sep 18 CST 2015
- [M] arch/x86/boot/tools/build.c		[D] Rewrite, fill holes in header.S
- [M] arch/x86/boot/bootloader.S		[D] Rewrite, read data from header.S


Sun Sep 20 CST 2015
- [M] arch/x86/boot/bootloader.S		[D] Get disk geometry parameters to
- 						 >  load system properly! Ugly assembly!
-						 >  Hmm, ugly, but works.


Mon Sep 21 CST 2015
- [M] Diary/09-21-2015
- [M] arch/x86/boot/bootloader.S		[D] Move kernel from 0x10000 to 0x100000
- [M] arch/x86/boot/pm.c			[D] Pass 0x100000
- [M] arch/x86/pmjump.S				[D] Jump to 0x100000
- [M] arch/x86/kernel/vmSandix.ld.S		[D] Set LOAD_OFFSET to 0xC0000000
-						 >  Add section: brk after bss.
-						 >  brk is used for page tables now.
-						 >  Because we do NOT know how much tables kernel need.
- [M] arch/x86/kernel/head.S			[D] Rewrite, fit to LOAD_OFFSET.
-						 >  Remove early_page_table, use brk_base instead.
-						 >  Map to both virtual address 0 and 0xC0000000.
-						 >  Add kernel_sig to check image integrity.


Tue Sep 22 CST 2015
- [+] scripts/vim-syntax/gas.vim
- [+] include/asm-generic/sections.h		[D] extern symbols from linker script.
- [+] arch/x86/include/asm/sections.h
- [+] arch/x86/include/asm/setup.h
- [+] arch/x86/kernel/setup.c			[D] Architecture-specific setup
- [M] arch/x86/kernel/head.S			[D] Clean up, jump to start_kernel
- [M] init/main.c				[D] Move arch-specific code to arch_setup()


Wed Sep 23 CST 2015
- [+] Diary/09-23-2015
- [+] include/sandix/major.h			[D] Device Major Number
- [M] include/sandix/tty.h			[D] struct tty_struct etc.
- [M] arch/x86/include/asm/current.h		[D] Renamed from sched.h
- [M] drivers/tty/tty_io.c			[D] Add tty_register_driver etc.
- [M] drivers/console/console.c			[D] Add struct tty_driver console_driver.
-						 >  console_driver is the interface between
-						 >  tty layer and vitual console layer.


Thu Sep 24 CST 2015
- [+] Diary/09-24-2015
- [+] include/sandix/signal.h			[D] Yes! POSIX Signals!
- [+] include/sandix/magic.h			[D] Magic number for structures
- [+] drivers/tty/serial.c
- [+] drivers/tty/dummy.c
- [M] include/sandix/console.h			[D] Add magic number to struct vc_struct
- [M] include/sandix/tty.h			[D] Modify tty_struct.
-						 >  Rename struct console to void *driver_data.
-						 >  Since tty_driver is NOT dedicated for
-						 >  console! We have serial tty driver, too!
-						 >  SO! Use driver_data instead to let struct
-						 >  tty_drvier to work on themself.


Fri Sep 25 CST 2015
- [M] drivers/tty/tty_io.c			[D] driver struct support
- [M] include/sandix/tty.h			[D] Line discipline sperated


Mon Sep 28 CST 2015
- [+] drivers/tty/n_tty.c			[D] Line discipline for tty
- [M] drivers/tty/tty_io.c			[D] Add tty_std_termios support
- [M] include/sandix/termios.h			[D] Fully support termios
- [M] include/sandix/tty.h			[D] Minor fix


Tue Sep 29 CST 2015
- [+] include/sandix/kref.h			[D] Reference Management
- [M] arch/x86/include/asm/atomic.h		[D] ALWAYS_INLINE and more functions.
- [M] include/sandix/tty.h			[D] Add various macros!
- [M] drivers/tty/tty_io.c			[D] Should add some buffer management
-						 >  Linux use tty_port and buffer to manage
-						 >  all queues. This implementation let tty
-						 >  drivers free from buffer management, and
-						 >  the system has a unified mechanism to manage.


Wed Sep 30 CST 2015
- [+] include/sandix/uaccess.h			[D] User/Kernel Space data movement
- [+] include/asm-generic/uaccess.h
- [+] arch/x86/include/asm/uaccess.h
- [+] fs/ext2/					[D] Darling, filesystems lies in the core
- [+] fs/ext3/					 >  part of operating system. Having a
- [+] fs/proc/					 >  totally understanding of fs makes
- [+] fs/Makefile				 >  a more deep insight into OS.
- [+] fs/Kconfig
- [+] include/sandix/fs.h			[D] struct file
- [+] drivers/tty/tty_ldisc.h			[D] Manage line discipline
- [M] drivers/tty/tty_io.c			[D] tty_write method. For device file
- [M] drivers/tty/n_tty.c


Fri Oct  9 CST 2015
- [+] Diary/10-09-2015
- [+] init/version.c				[D] sandix_version string
- [+] include/sandix/kern_levels.h		[D] Kernel information levels
- [M] include/sandix/printk.h			[D] pr_xxx(), printk_once(), pr_xxx_once()


Sat Oct 10 CST 2015
- [+] drivers/tty/n_dummy.c


Tue Oct 13 CST 2015
- [+] Diary/10-13-2015				[D] These days i am debugging uncore PMU
-						 >  Wait a couple days, i will be back!


Thu Oct 15 CST 2015
- [+] Diary/10-15-2015


Fri Oct 16 CST 2015
- [+] Diary/10-16-2015
- [+] include/asm-generic/spinlock.h		[D] Error message, need arch-specific file


Sat Oct 17 22:32:55 CST 2015
- [+] kernel/panic.c
- [M] include/sandix/kernel.h			[D] declare panic...


Wed Nov 11 13:29:16 CST 2015
- [+] Diary/11-11-2015				[D] Something about SoC etc.


Fri Nov 13 09:42:52 CST 2015
- [+] Diary/11-13-2015


Mon Nov 16 23:26:53 CST 2015
- [+] Diary/11-16-2015


Tue Nov 17 13:24:49 CST 2015
- [+] Diary/11-17-2015				[D] Life with TOEFL :)


Sun Nov 22 09:37:33 CST 2015
- [+] sound/Makefile				[D] :) Sounds like Shit
- [+] sound/Kconfig
- [+] drivers/tty/tty_dummy.c			[D] A dummy tty driver
- [M] drivers/tty/tty_ldisc.c			[D] Line discipline layer
- [M] drivers/console/console.c			[D] Bind to standard termios
- [M] scripts/Kbuild.include			[D] Add colorful output support
- [M] Makefile					 >  new "make M=..."


Mon Nov 23 10:47:52 CST 2015
- [+] block/Makefile				[D] It's time
- [+] block/Kconfig
- [+] drivers/block/Makefile
- [+] drivers/block/Kconfig
- [+] drivers/char/Makefile
- [+] drivers/char/Kconfig
- [M] Makefile					[D] Colorful "make help"
- [M] arch/x86/boot/tools/build.c		[D] Colorful message


Sat Nov 28 18:14:12 CST 2015
- [+] Diary/11-28-2015


Mon Dec 14 15:20:42 CST 2015
- [M] Makefile					[D] Add a new warning flag, -Wsizeof-array-argument
-						 >  Why? I read the LKML mailing list, there is a
-						 >  mail came from Linus, which mentioned this might be a
-						 >  a big problem! https://lkml.org/lkml/2015/9/3/428

#
#	HAPPY 2016! Keep hacking Sandix!
#

Mon Jan 11 19:57:25 CST 2016
- [M] drivers/tty/tty_io.c
- [M] drivers/tty/tty_ldisc.c


Tue Jan 12 22:57:59 CST 2016
- [+] include/sandix/spinlock_up.h
- [+] include/sandix/spinlock_smp.h
- [+] include/sandix/typecheck.h		[D] typecheck() is just a compile time warning
- [M] include/sandix/spinlock.h


Wed Jan 13 10:59:20 CST 2016
- [+] include/sandix/irqflags.h			[D] local_irq_disable/enable
- [+] arch/x86/include/asm/irqflags.h		 >  local_irq_save/restore
- [+] Documentation/locking/
- [M] arch/x86/config/i386_defconfig		[D] add CONFIG_X86_SPINLOCK_TICKET
- [M] arch/x86/include/asm/spinlock.h
- [M] include/sandix/spinlock_up.h		[D] Finished
- [M] include/sandix/spinlock_smp.h
- [M] include/sandix/spinlock.h			[D] Generic spinlock APIs


Thu Jan 14 14:14:17 CST 2016
- [+] include/sandix/slab.h			[D] kmalloc kfree (empty)
- [+] include/sandix/err.h			[D] IS_ERR things
- [+] scripts/Lindent
- [M] arch/x86/include/asm/spinlock.h		[D] basic spinlock finished
- [M] drivers/tty/tty_ldisc.c
- [M] drivers/tty/n_tty.c			[D] new functions
- [M] include/sandix/tty.h			[D] new ldisc_ops: open, close


Fri Jan 15 11:14:19 CST 2016
- [+] include/asm-generic/uaccess.h		[D] copy_from_user() etc. functions
- [M] include/sandix/uaccess.h			 >  still empty. But they are needed by tty_io
- [M] arch/x86/include/asm/uaccess.h
- [M] drivers/tty_io.c
- [M] drivers/n_tty.c
- [M] arch/x86/Kconfig				[D] CONFIG_64BIT, default no
- [M] include/sandix/tty.h			[D] Split tty_driver/ldisc definitions into
- [+] include/sandix/tty_ldsic.h		 >  newly created files. It is cleaner speration
- [+] include/sandix/tty_driver.h		 >  between tty_struct/ldisc/driver.


Sat Jan 16 10:29:09 CST 2016
- [+] include/sandix/rwsem.h			[D] Used by tty now. Empty
- [M] include/sandix/tty.h			[D] re-organize tty_struct. new protecting lock and new fields
- [M] drivers/tty/tty_io.c			 >  tty_lock/unlock. alloc_tty_struct() some modifications
- [M] drivers/tty/tty_ldisc.h			 >  Some locking added
- [M] include/sandix/tty_driver.h		[D] new methods added into tty_operations
- [M] drivers/tty/vt/vt.c			 >  write_room, chars_in_buffer, etc. I start to understand why they are here
- [M] drivers/tty/n_tty.c			[D] OPOST processing


Mon Jan 18 11:05:18 CST 2016
- [+] lib/sort.c				[D] a heapsort implementation
- [+] include/sandix/sort.c
- [+] arch/x86/pci/early.c			[D] early dump pci devices
- [+] arch/x86/include/asm/pci-early.c
- [+] arch/x86/kernel/traps.c			[D] traps_init()
- [M] arch/x86/kernel/e820.c			[D] Parse e820 table, print map
- [M] arch/x86/kernel/setup.c			[D] early_arch_setup()
- [M] lib/vsnprintf.c				[D] I reread the code, and change 'qualifiers' to 'modifiers',
-						 >  which might be more proper, since all manuals call this way.


Wed Jan 20 10:21:18 CST 2016
- [+] scripts/tags.sh
- [+] arch/x86/boot/install.sh
- [+] scirpts/gcc-version.sh
- [M] Makefile
- [M] arch/x86/Makefile
- [M] arch/x86/boot/Makefile


Thu Jan 21 11:43:12 CST 2016
- [M] arch/x86/boot/tools/build.c		[D] Two output images, bzImage + bzImgae.iso


Fri Jan 22 16:57:04 CST 2016
- [+] arch/x86/boot/copy.S
- [+] arch/x86/boot/video-mode.c		[D] select video mode when booting
- [+] arch/x86/boot/video-bios.c		 >  many thanks to linux kernel developers!
- [+] arch/x86/boot/video-vga.c
- [+] arch/x86/boot/video-vesa.c
- [M] arch/x86/boot/video.h
- [M] arch/x86/boot/video.c
- [M] arch/x86/boot/main.c			[D] video code modifications
- [M] arch/x86/boot/header.S			[D] heap_end_ptr + CAN_USE_HEAP


Sat Jan 23 21:39:06 CST 2016
- [M] arch/x86/boot/video.c			[D] some updates about video.
- [M] include/sandix/screen_info.h		[D] NOTE: need to modify vgacon.c


Mon Jan 25 14:03:30 CST 2016
- [-] arch/x86/kernel/entry.S
- [+] arch/x86/entry/
- [+] include/sandix/bootmem.h			[D] extern max_pfn ect. variables
- [+] include/asm-generic/page.h
- [+] arch/x86/include/asm/page_32.h		[D] separate 32/64 page definitions
- [+] arch/x86/include/asm/page_64.h
- [M] arch/x86/include/asm/page.h
- [+] arch/x86/include/asm/pgtable_32.h		[D] separate 32/64 page table definitions
- [+] arch/x86/include/asm/pgtable_64.h
- [+] arch/x86/include/asm/pgtable-2level.h
- [+] arch/x86/include/asm/pgtable-3level.h
- [+] arch/x86/include/asm/pgtable-2level-types.h
- [+] arch/x86/include/asm/pgtable-3level-types.h
- [M] arch/x86/include/asm/pgtable.h
- [M] arch/x86/Kconfig				[D] add CONFIG_HIGHMEM etc.


Tue Jan 26 10:15:37 CST 2016
- [+] arch/x86/include/asm/pgtable_32_types.h
- [+] arch/x86/include/asm/pgtable_64_types.h
- [+] arch/x86/include/asm/pgtable_types.h	[D] separate types from operations
- [+] include/asm-generic/pgtable.h
- [+] include/asm-generic/pgtable-nopud.h
- [+] include/asm-generic/pgtable-nopmd.h


Wed Jan 27 09:27:12 CST 2016
- [+] Diary/01-27-2016
- [+] mm/Kconfig				[D] PHYS_ADDR_T_64BIT
- [M] include/sandix/types.h			 >  same
- [M] arch/x86/Kconfig
- [M] arch/x86/include/asm/page_32.h		[D] finalize these files
- [M] arch/x86/include/asm/page_64.h		 >  64-bit uses BUG()
- [M] arch/x86/include/asm/page.h
- [M] arch/x86/include/asm/pgtable.h
- [M] include/asm-generic/pgtable.h
- [M] include/asm-generic/pgtable-nopud.h
- [M] include/asm-generic/pgtable-nopmd.h


Thu Jan 28 12:56:08 CST 2016
- [+] include/sandix/ptrace.h			[D] ptrace registers, operations etc.
- [+] include/asm-generic/ptrace.h
- [+] arch/x86/include/asm/ptrace.h
- [+] arch/x86/entry/Makefile			[D] Cool! Now kernel entry points
- [+] arch/x86/entry/entry_32.S
- [M] arch/x86/Makefile
- [M] arch/x86/include/asm/descriptor.h


Sat Jan 30 09:47:23 CST 2016
- [+] arch/x86/kernel/asm-offset.c
- [+] arch/x86/kernel/asm-offset_32.c
- [+] arch/x86/kernel/asm-offset_32.c


Sun Jan 31 20:49:52 CST 2016
- [+] include/sandix/kbuild.h


Wed Feb  3 08:51:10 CST 2016
- [+] include/asm-generic/asm-offset.h		[D] <generared/asm-offset.h>, created in
- [+] arch/x86/include/asm/asm-offset.h		 >  arch/x86/kernel/Makefile, then copied
- [M] arch/x86/kernel/Makefile			 >  into generated directory.


Thu Feb  4 09:56:32 CST 2016
- [M] include/asm-generic/ptrace.h
- [M] arch/x86/include/asm/ptrace.h


Fri Feb  5 10:15:40 CST 2016
- [M] arch/x86/entry/entry_32.S


Tue Feb 16 09:51:28 CST 2016
- [+] arch/x86/kernel/dumpstack.c
- [+] arch/x86/kernel/process.c
- [M] arch/x86/entry/entry_32.S
- [M] arch/x86/kernel/traps.h			[D] do_trap functions


Wed Feb 17 09:19:12 CST 2016
- [+] arch/x86/kernel/process_32.c		[D] show registers ...
- [+] arch/x86/kernel/process_64.c
- [+] arch/x86/include/asm/kdebug.h
- [+] include/asm/kdebug.h
- [M] arch/x86/include/asm/ptrace.h
- [M] arch/x86/include/process.c
- [M] include/sandix/sched.h			[D] extern trap_init() here...


Thu Feb 18 09:40:21 CST 2016
- [+] arch/x86/entry/common.c			[D] SYSCALL entry
- [+] include/sandix/bitmaps.h
- [M] include/sandix/types.h			[D] bitmaps
- [M] include/sandix/bitops.h
- [M] arch/x86/include/asm/bitops.h
- [M] include/sandix/kernel.h			[D] roundup things
- [M] arch/x86/entry/entry_32.S
